{"version":3,"file":"static/js/277.4d8325c1.chunk.js","mappings":"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","sources":["components/Icons/ArrowBack/index.tsx","components/Modal/index.tsx","components/CardBookCart/index.tsx","components/pages/CartPage/index.tsx"],"sourcesContent":["const ArrowBack = () => {\r\n    return (\r\n        <svg  width='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'><title/><g data-name='Layer 2' id='Layer_2'><path d='M10.1,23a1,1,0,0,0,0-1.41L5.5,17H29.05a1,1,0,0,0,0-2H5.53l4.57-4.57A1,1,0,0,0,8.68,9L2.32,15.37a.9.9,0,0,0,0,1.27L8.68,23A1,1,0,0,0,10.1,23Z'/></g></svg>    )\r\n}\r\nexport default ArrowBack\r\n","import { PropsWithChildren } from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './Modal.scss'\r\n\r\ninterface IModalProps {\r\n  controlled: boolean,\r\n  active: boolean,\r\n  title?: string,\r\n  onConfirm?: () => void\r\n  onClose?: () => void\r\n}\r\n\r\nexport const Modal = ({ controlled, active, title, onConfirm, onClose, children }: PropsWithChildren<IModalProps>): any => {\r\n    if (!active) return null\r\n    console.log(onConfirm)\r\n\r\n    const handlerOnStopPropagation = (event: any) => event.stopPropagation()\r\n\r\n    const portalElement = document.querySelector('#root')\r\n    if (portalElement) {\r\n        return ReactDOM.createPortal((\r\n            <div className='modal' onClick={onClose}>\r\n                <div className={controlled ? 'modal__content--controlled' : 'modal__content'} onClick={handlerOnStopPropagation}>\r\n                    <div className='modal__top'>\r\n                        <h2 className='modal__title'>{title}</h2>\r\n                    </div>\r\n                    <div className='modal__body'>{children}</div>\r\n                    {controlled &&\r\n                <div className='modal__footer'>\r\n                    {onConfirm ? (\r\n                        <>\r\n                            <button onClick={onConfirm}>YES</button>\r\n                            <button onClick={onClose}>NO</button>\r\n                        </>) : (\r\n                        <>\r\n                            <button onClick={onClose}>OK</button>\r\n                        </>)}\r\n                </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        ), portalElement)\r\n    }\r\n}","import React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { removeToCart, setSearchValue } from '../../redux/actionCreators/bookActionCreator'\r\nimport { ICardBookMini } from '../CardBookMini'\r\nimport { Modal } from '../Modal'\r\nimport './CardBookCart.scss'\r\n\r\nexport const CardBookCart = ({ isbn13, title, subtitle, image, price }: ICardBookMini) => {\r\n    const dispatch = useDispatch()\r\n    const handlerSearchClear = () => dispatch(setSearchValue(''))\r\n\r\n    //Modal state and handlers:\r\n    const [ showModal, setShowModal ] = React.useState(false)\r\n    const handlerOnDeleteItem = () => {\r\n        setShowModal(prev => !prev)\r\n    }\r\n    const handlersOnCloseModal = () => {\r\n        setShowModal(false)\r\n    }\r\n\r\n    const handlerOnConfirmModal = () => {\r\n        setShowModal(prev => !prev)\r\n        dispatch(removeToCart(isbn13))\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal controlled={true} active={showModal} title={'Confirm'} onConfirm={handlerOnConfirmModal} onClose={handlersOnCloseModal}>\r\n                Delete from card?\r\n            </Modal>\r\n\r\n            <div className='cartbook' onClick={handlerSearchClear}>\r\n                <div className='cartbook__present'>\r\n                    <Link to={`/Book-Store/${isbn13}`} className='cartbook__link'>\r\n                        <div className='cartbook__image'>\r\n                            <img src={image} alt={title} />\r\n                        </div>\r\n                    </Link>\r\n                </div>\r\n                <div className='cartbook__info'>\r\n                    <h2 className='cartbook__title'>{title}</h2>\r\n                    <p className='cartbook__subtitle'>{subtitle ? subtitle : 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Tenetur, quibusdam!'}</p>\r\n                </div>\r\n                <div className='cartbook__market'>\r\n                    <button className='cartbook__remove' onClick={handlerOnDeleteItem}>X</button>\r\n                    <div className='cartbook__price'>{price}</div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { ThemeContext } from '../../../context'\r\nimport { clearCart } from '../../../redux/actionCreators/bookActionCreator'\r\nimport { getMe } from '../../../redux/actionCreators/userActionCreators'\r\nimport { IBook, IStore } from '../../../redux/types'\r\nimport { CardBookCart } from '../../CardBookCart'\r\nimport { FormLogin } from '../../FormLogin'\r\nimport ArrowBack from '../../Icons/ArrowBack'\r\nimport { Modal } from '../../Modal'\r\nimport './CartPage.scss'\r\n\r\nexport default function CartPage () {\r\n    const dispatch = useDispatch()\r\n    const navigate = useNavigate()\r\n    const goBack = () => navigate(-1)\r\n    const { theme } = React.useContext(ThemeContext)\r\n    const { user } = useSelector((state: IStore) => state.users)\r\n\r\n\r\n    //Calculated and Render Total Price\r\n    const { books } = useSelector((state: IStore) => state.books)\r\n    const { cart } = useSelector((state: IStore) => state.books)\r\n    const dataCart = books?.filter(({ isbn13 }) => cart?.includes(isbn13))\r\n    const dataPrice = dataCart?.map((item: IBook) => (item.price)?.slice(1))\r\n    //@ts-ignore\r\n    const totalPrice = dataPrice?.map(item => +item).reduce((acc, item) => acc + item , 0).toFixed(2)\r\n\r\n    //Modal state and handlers:\r\n    const [ showModal, setShowModal ] = React.useState(false)\r\n    const handlerOnClickOrder = () => {\r\n        if (totalPrice === '0.00') return\r\n        setShowModal(prev => !prev)\r\n    }\r\n    const handlersOnCloseModal = () => {\r\n        setShowModal(false)\r\n    }\r\n    const handlerOnConfirmModal = () => {\r\n        setShowModal(prev => !prev)\r\n        const newCart: never[] = []\r\n        dispatch(clearCart(newCart))\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        dispatch(getMe())\r\n    }, [])\r\n\r\n    if(user == null) {\r\n        return (<FormLogin/>)\r\n    } else {\r\n        return (\r\n            <section className={`cart cart--${theme}`}>\r\n                <Modal controlled={true} active={showModal} title={'Confirm'} onConfirm={handlerOnConfirmModal} onClose={handlersOnCloseModal}>\r\n                    {`Pay $${totalPrice} for you order?`}\r\n                </Modal>\r\n                <div className='wrapper'>\r\n                    <div className='cart__body'>\r\n                        <div className='cart__button-back' onClick={goBack}>\r\n                            <ArrowBack/>\r\n                        </div>\r\n                        <div className='cart__container'>\r\n                            <h3 className='cart__title'>Cart</h3>\r\n                            <div className='cart__total'>\r\n                                <button className='cart__order' onClick={handlerOnClickOrder}>\r\n                                To order :<span>${totalPrice}</span>\r\n                                </button>\r\n                            </div>\r\n                            <div className='cart__list'>\r\n                                {\r\n                                    !dataCart.length ? <div className='cart__null'>Your cart is empty. Choose the product you like!</div> :\r\n                                        dataCart.map(({ title, subtitle, isbn13, price, image }) => <CardBookCart key={isbn13}\r\n                                            title={title} subtitle={subtitle} isbn13={isbn13} price={price} image={image}/>)\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}"],"names":["width","viewBox","xmlns","id","d","Modal","controlled","active","title","onConfirm","onClose","children","console","log","portalElement","document","querySelector","ReactDOM","className","onClick","event","stopPropagation","CardBookCart","isbn13","subtitle","image","price","dispatch","useDispatch","React","showModal","setShowModal","prev","removeToCart","setSearchValue","to","src","alt","CartPage","navigate","useNavigate","theme","ThemeContext","user","useSelector","state","users","books","cart","dataCart","filter","includes","dataPrice","map","item","slice","totalPrice","reduce","acc","toFixed","getMe","FormLogin","clearCart","ArrowBack","length"],"sourceRoot":""}