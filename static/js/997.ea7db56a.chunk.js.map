{"version":3,"file":"static/js/997.ea7db56a.chunk.js","mappings":"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","sources":["components/Icons/LogoutIcon/index.tsx","components/NavigationMenu/index.tsx","components/Icons/CloseIcon/index.tsx","components/Icons/SearchIcon/index.tsx","components/SearchInput/index.tsx","components/Header/index.tsx","components/Footer/index.tsx","components/Layout/index.tsx","components/Modal/index.tsx"],"sourcesContent":["import React from 'react'\r\nimport './LogoutIcon.scss'\r\nexport const LogoutIcon = () => {\r\n    return (\r\n        <svg viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'><defs></defs><title/><g id='logout'><line className='cls-1' x1='15.92' x2='28.92' y1='16' y2='16'/><path d='M23.93,25v3h-16V4h16V7h2V3a1,1,0,0,0-1-1h-18a1,1,0,0,0-1,1V29a1,1,0,0,0,1,1h18a1,1,0,0,0,1-1V25Z'/><line className='cls-1' x1='28.92' x2='24.92' y1='16' y2='20'/><line className='cls-1' x1='28.92' x2='24.92' y1='16' y2='12'/><line className='cls-1' x1='24.92' x2='24.92' y1='8.09' y2='6.09'/><line className='cls-1' x1='24.92' x2='24.92' y1='26' y2='24'/></g></svg>)\r\n}\r\n","import React from 'react'\r\nimport { useEffect, useState } from 'react'\r\nimport { Link, useNavigate } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { setSearchValue } from '../../redux/actionCreators/bookActionCreator'\r\nimport { IStore } from '../../redux/types'\r\nimport { AiOutlineClose } from 'react-icons/ai'\r\nimport { BiMenuAltRight } from 'react-icons/bi'\r\nimport { Modal } from '../Modal'\r\nimport { logOut } from '../../redux/actionCreators/userActionCreators'\r\nimport './NavigationMenu.scss'\r\nimport { LogoutIcon } from '../Icons/LogoutIcon'\r\n\r\nexport default function Navbar() {\r\n    const navigate = useNavigate()\r\n    const dispatch = useDispatch()\r\n    const { user } = useSelector((state: IStore) => state.users)\r\n\r\n    //Render count cart\r\n    const { cart } = useSelector((state: IStore) => state.books)\r\n\r\n    //State burger menu\r\n    const [menuOpen, setMenuOpen] = useState(false)\r\n    const [size, setSize] = useState({\r\n        width: 0,\r\n        height: 0,\r\n    })\r\n    useEffect(() => {\r\n        const handleResize = () => {\r\n            setSize({\r\n                width: window.innerWidth,\r\n                height: window.innerHeight,\r\n            })\r\n        }\r\n        window.addEventListener('resize', handleResize)\r\n\r\n        return () => window.removeEventListener('resize', handleResize)\r\n    }, [])\r\n    useEffect(() => {\r\n        if (size.width > 900 && menuOpen) {\r\n            setMenuOpen(false)\r\n        }\r\n    }, [size.width, menuOpen])\r\n    const menuToggleHandler = () => {\r\n        setMenuOpen((prev) => !prev)\r\n    }\r\n\r\n    //Close menu on click link\r\n    const handlerOnClickLink = () => {\r\n        if(menuOpen) setMenuOpen(prev => !prev)\r\n        dispatch(setSearchValue(''))\r\n    }\r\n\r\n    const handlerClicker = (href: string) => {\r\n        navigate(`/Book-Store/${href}`)\r\n    }\r\n\r\n    //Modal state and handlers:\r\n    const [ showModal, setShowModal ] = React.useState(false)\r\n    const handlerOnClickName = () => {\r\n        setShowModal(prev => !prev)\r\n    }\r\n    const handlersOnCloseModal = () => {\r\n        setShowModal(false)\r\n    }\r\n    const handlerOnConfirmModal = () => {\r\n        setShowModal(prev => !prev)\r\n        dispatch(logOut())\r\n        navigate('/Book-Store')\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal controlled={true} active={showModal} title={'Confirm'} onConfirm={handlerOnConfirmModal} onClose={handlersOnCloseModal}>You really want LogOut?</Modal>\r\n            <nav className={`header__nav ${menuOpen && size.width < 900 ? 'isMenu' : ''}`}>\r\n                <ul onClick={handlerOnClickLink}>\r\n                    <li onClick={() => handlerClicker('favorites')}>\r\n                        Favorites\r\n                    </li>\r\n                    <li onClick={() => handlerClicker('cart')}>\r\n                        Cart\r\n                        {(user !== null) &&(cart.length > 0) && <div className='cart__length'>{cart.length}</div>}\r\n                    </li>\r\n                    <li onClick={() => handlerClicker('setting')}>\r\n                        Setting\r\n                    </li>\r\n                    {(user !== null) ? (<li onClick={handlerOnClickName}><LogoutIcon/></li>)\r\n                        : (<>\r\n                            <Link to='/Book-Store/register'>\r\n                                <button className='btn'>Register</button>\r\n                            </Link>\r\n                            <Link to='/Book-Store/login'>\r\n                                <button className='btn btn__login'>Login</button>\r\n                            </Link>\r\n                        </>)}\r\n                </ul>\r\n            </nav>\r\n            <div className='header__toggle'>\r\n                {!menuOpen ? (\r\n                    <BiMenuAltRight onClick={menuToggleHandler} />\r\n                ) : (\r\n                    <AiOutlineClose onClick={menuToggleHandler} />\r\n                )}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n","export const CloseIcon = ({ onClick }: any) => {\r\n    return (\r\n        <>\r\n            <svg onClick={onClick} viewBox='0 0 48 48' xmlns='http://www.w3.org/2000/svg'><path d='M38 12.83l-2.83-2.83-11.17 11.17-11.17-11.17-2.83 2.83 11.17 11.17-11.17 11.17 2.83 2.83 11.17-11.17 11.17 11.17 2.83-2.83-11.17-11.17z'/><path d='M0 0h48v48h-48z' fill='none'/></svg>\r\n        </>\r\n    )\r\n}\r\n","export const SearchIcon = () => {\r\n    return (\r\n        <>\r\n            <svg viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'><title/><g id='search'><path d='M29.71,28.29l-6.5-6.5-.07,0a12,12,0,1,0-1.39,1.39s0,.05,0,.07l6.5,6.5a1,1,0,0,0,1.42,0A1,1,0,0,0,29.71,28.29ZM14,24A10,10,0,1,1,24,14,10,10,0,0,1,14,24Z'/></g></svg>\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport debounce from 'lodash.debounce'\r\nimport { setSearchValue } from '../../redux/actionCreators/bookActionCreator'\r\nimport { setCurrentPage } from '../../redux/actionCreators/settingActionCreator'\r\nimport { CloseIcon } from '../Icons/CloseIcon'\r\nimport { SearchIcon } from '../Icons/SearchIcon'\r\nimport './SearchIcon.scss'\r\n\r\nexport const SearchInput = () => {\r\n    const navigate = useNavigate()\r\n    const dispatch = useDispatch()\r\n\r\n    //Refferense for activate FOCUS input\r\n    const inputRef = React.useRef() as React.MutableRefObject<HTMLInputElement>\r\n\r\n    //LocalState INPUT\r\n    const [invalue, setInvalue] = React.useState('')\r\n\r\n    //Handlers EventListeners on CHANGE and KEYDOWN input\r\n    const handlerInputChange = (e: any) => {\r\n        setInvalue(e.target.value)\r\n        handlerUpdateSearchValue(e.target.value)\r\n    }\r\n    //Debounce searching\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    const handlerUpdateSearchValue = React.useCallback(\r\n        debounce((string) => {\r\n            dispatch(setSearchValue(string))\r\n        }, 1000),\r\n        [])\r\n    const handlerInputClear = () => {\r\n        setInvalue('')\r\n        dispatch(setSearchValue(''))\r\n        inputRef.current.focus()\r\n    }\r\n    const handlerOnKeyDown = ({ key }: any) => {\r\n        if(key !== 'Enter') return\r\n        navigate('/Book-Store')\r\n        dispatch(setCurrentPage(1))\r\n        // setInvalue('')\r\n        // dispatch(setSearchValue(''))\r\n    }\r\n\r\n    return (\r\n        <div className='header__search' onKeyDown={handlerOnKeyDown}>\r\n            <input value={invalue} ref={inputRef}  onChange={handlerInputChange} type='text' placeholder='Search...' />\r\n            {!invalue ? <SearchIcon /> : <CloseIcon onClick={handlerInputClear}/>}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { ThemeContext } from '../../context'\r\nimport NavigationMenu from '../NavigationMenu'\r\nimport { SearchInput } from '../SearchInput'\r\n\r\nimport './Header.scss'\r\n\r\nexport const Header = () => {\r\n    const { theme } = React.useContext(ThemeContext)\r\n    return (\r\n        <header className={`header header--${theme}`}>\r\n            <div className='wrapper'>\r\n                <div className='header__body'>\r\n                    <Link to={'/Book-Store'}>\r\n                        <div className='header__logo'>Bookstore</div>\r\n                    </Link>\r\n                    <SearchInput/>\r\n                    <NavigationMenu/>\r\n                </div>\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { ThemeContext } from '../../context'\r\nimport './Footer.scss'\r\n\r\nexport const Footer = () => {\r\n    const { theme } = React.useContext(ThemeContext)\r\n    return (\r\n        <footer className={`footer footer--${theme}`}>\r\n            <div className='wrapper'>\r\n                <div className='footer__body'>\r\n                    <p> 2023 Bookstore by Ekimov</p>\r\n                    <p>All rights reserved</p>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    )\r\n}\r\n","import { Outlet } from 'react-router-dom'\r\nimport { Header } from '../Header'\r\nimport { Footer } from '../Footer'\r\n\r\nexport default function Layout () {\r\n    return (\r\n        <>\r\n            <Header/>\r\n            <Outlet/>\r\n            <Footer/>\r\n        </>\r\n    )\r\n}\r\n","import { PropsWithChildren } from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './Modal.scss'\r\n\r\ninterface IModalProps {\r\n  controlled: boolean,\r\n  active: boolean,\r\n  title?: string,\r\n  onConfirm?: () => void\r\n  onClose?: () => void\r\n}\r\n\r\nexport const Modal = ({ controlled, active, title, onConfirm, onClose, children }: PropsWithChildren<IModalProps>): any => {\r\n    if (!active) return null\r\n    console.log(onConfirm)\r\n\r\n    const handlerOnStopPropagation = (event: any) => event.stopPropagation()\r\n\r\n    const portalElement = document.querySelector('#root')\r\n    if (portalElement) {\r\n        return ReactDOM.createPortal((\r\n            <div className='modal' onClick={onClose}>\r\n                <div className={controlled ? 'modal__content--controlled' : 'modal__content'} onClick={handlerOnStopPropagation}>\r\n                    <div className='modal__top'>\r\n                        <h2 className='modal__title'>{title}</h2>\r\n                    </div>\r\n                    <div className='modal__body'>{children}</div>\r\n                    {controlled &&\r\n                <div className='modal__footer'>\r\n                    {onConfirm ? (\r\n                        <>\r\n                            <button onClick={onConfirm}>YES</button>\r\n                            <button onClick={onClose}>NO</button>\r\n                        </>) : (\r\n                        <>\r\n                            <button onClick={onClose}>OK</button>\r\n                        </>)}\r\n                </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        ), portalElement)\r\n    }\r\n}"],"names":["LogoutIcon","viewBox","xmlns","id","className","x1","x2","y1","y2","d","Navbar","navigate","useNavigate","dispatch","useDispatch","user","useSelector","state","users","cart","books","useState","menuOpen","setMenuOpen","width","height","size","setSize","useEffect","handleResize","window","innerWidth","innerHeight","addEventListener","removeEventListener","menuToggleHandler","prev","handlerClicker","href","React","showModal","setShowModal","Modal","controlled","active","title","onConfirm","logOut","onClose","onClick","setSearchValue","length","to","CloseIcon","fill","SearchIcon","SearchInput","inputRef","invalue","setInvalue","handlerUpdateSearchValue","debounce","string","onKeyDown","key","setCurrentPage","value","ref","onChange","e","target","type","placeholder","current","focus","Header","theme","ThemeContext","Footer","Layout","children","console","log","portalElement","document","querySelector","ReactDOM","event","stopPropagation"],"sourceRoot":""}